// English Translations (Default)
const enTranslations = {
    enablePreProxy: "Enable Chain Proxy",
    manageChain: "Proxy Chain",
    importYaml: "Import Data",
    newProfile: "New Profile",
    generateBtn: "Generate & Save",
    editFingerprint: "Edit Profile",
    profileName: "Profile Name",
    proxyLink: "Proxy Link",
    preProxySetting: "Pre-Proxy",
    optDefault: "Global",
    optOn: "Force ON",
    optOff: "Force OFF",
    screenRes: "Resolution",
    cancel: "Cancel",
    save: "Save",
    add: "Add",
    launch: "Launch",
    edit: "Edit",
    delete: "Delete",
    notify: "Notify",
    modeSingle: "Single Node",
    modeBalance: "Load Balance",
    modeFailover: "Failover",
    qsDefault: "Pre: Global",
    qsOn: "Pre: ON",
    qsOff: "Pre: OFF",
    confirmDel: "Delete this profile?",
    inputReq: "Name & Proxy Link required!",
    runningStatus: "RUNNING",
    done: "Done",
    remark: "Remark",
    latency: "Latency",
    testWait: "...",
    themeGeek: "Geek (Blue)", themeLight: "Light (Red)", themeDark: "Dark (Green)",
    btnImportSub: "+ New Sub",
    btnTestGroup: "‚ö° Test Group & Auto-Switch",
    btnTest: "Test",
    btnEdit: "Edit",
    btnEditSub: "‚úé Edit Sub",
    btnDelSub: "Delete Sub",
    btnSaveUpdate: "Save & Update",
    btnExport: "Export",
    exportTitle: "Export Configuration",
    expAll: "Full Backup (All)",
    expAllDesc: "Profiles, Proxies and Subscriptions",
    expProxies: "Proxies Only",
    expProxiesDesc: "Chain Proxies & Subscriptions Settings",
    expProfiles: "Profiles Only",
    expProfilesDesc: "Browser Environments & Fingerprints",
    msgExportSuccess: "Export Successful!",
    msgImportSuccess: "Import Successful!",
    msgNoData: "No data found to export.",
    importSubTitle: "Enter Subscription URL",
    subErr: "Failed to parse subscription.",
    subTitle: "Subscription Settings",
    subName: "Name",
    subUrl: "URL",
    subInterval: "Auto Update",
    optDisabled: "Disabled",
    opt24h: "Every 24 Hours",
    opt72h: "Every 72 Hours",
    optCustom: "Custom (Hours)",
    groupManual: "Manual Added",
    helpTitle: "GeekEZ Manual",
    tabManual: "User Manual",
    tabAbout: "About & Safety",
    autoFingerprint: "* Fingerprints generated automatically",
    checkingUpdate: "Checking for updates...",
    appUpdateFound: "New App version found!",
    askUpdate: "Update now",
    xrayUpdateFound: "New Xray core found! Downloading...",
    noUpdate: "You are up to date.",
    updateError: "Update check failed.",
    updateDownloaded: "Update downloaded. Please restart.",
    emptyStateMsg: "Click '+ New Profile' to start",
    confirmDelSub: "Are you sure to delete this subscription?",
    msgSubUpdated: "Updated:",
    msgImported: "Imported",
    msgNodes: "nodes.",
    msgUpdateFailed: "Update Failed:",
    tagsLabel: "Tags (comma separated)",
    timezoneLabel: "Timezone",
    languageLabel: "Language",
    locationLabel: "Location (Geo)",
    geoAuto: "Auto (IP Based)",
    geoHint: "Select a city matching your proxy. Manual mismatch = ban.",
    settingsTitle: "‚öôÔ∏è Settings",
    settingsTabExtensions: "üß© Extensions",
    settingsTabAdvanced: "‚ö° Advanced",
    settingsExtTitle: "Extension Management",
    settingsExtDesc: "Load custom Chrome extensions. Extensions will be loaded automatically when launching profiles.",
    settingsExtAddBtn: "+ Add Extension Folder",
    settingsAdvTitle: "Advanced Settings",
    settingsAdvDesc: "Advanced features coming soon...",
    btnClose: "Close",
    settingsExtNoExt: "No extensions loaded",
    settingsExtRemove: "Remove",
    settingsExtAdded: "Extension added successfully!",
    settingsExtRemoved: "Extension removed!",
    debugPortLabel: "Remote Debugging Port",
    debugPortPlaceholder: "Leave empty for auto-assign (e.g., 9222)",
    debugPortWarning: "‚ö†Ô∏è Enabling debugging port may increase detection risk",
    debugTitle: "üîß Remote Debugging",
    debugDesc: "Enable remote debugging port for external Puppeteer/DevTools connection",
    debugWarningTitle: "Detection Risk Warning",
    debugWarningText: "Enabling remote debugging may increase the risk of automation detection by anti-bot systems. Only enable this feature when you need external control via Puppeteer or Chrome DevTools.",
    debugEnableLabel: "Enable Remote Debugging Port",
    debugEnableDesc: "When enabled, you can specify a custom debugging port for each profile",
    launchSettingsTitle: "üöÄ Launch Settings",
    dashboardOnLaunchLabel: "Open Dashboard on Launch",
    dashboardOnLaunchDesc: "Automatically open the local dashboard tab when a profile starts",
    apiQuietLaunchLabel: "Quiet Launch via API",
    apiQuietLaunchDesc: "Start minimized and without dashboard when launched via Local API",
    watermarkTitle: "üè∑Ô∏è Watermark Style",
    watermarkDesc: "Choose watermark display style, takes effect after restarting the profile",
    watermarkEnhancedLabel: "üéØ Enhanced Watermark (Recommended)",
    watermarkEnhancedDesc: "Bottom-right corner, gradient background + icon, subtle pulse animation, no page space occupied",
    watermarkBannerLabel: "üîπ Top Banner",
    watermarkBannerDesc: "Displayed at page top, very prominent, closable, occupies ~40px space",
    // Fingerprint Tab
    editTabBasic: "Basic",
    editTabFingerprint: "Fingerprint",
    fpUserAgent: "üåê User Agent",
    fpWebGL: "üéÆ WebGL",
    fpVendor: "Vendor",
    fpRenderer: "Renderer",
    fpHardware: "üíª Hardware",
    fpCPUCores: "CPU Cores",
    fpMemory: "Memory (GB)",
    fpColorDepth: "Color Depth",
    fpPixelRatio: "Pixel Ratio",
    fpMaxTouch: "Touch Points",
    fpDoNotTrack: "Do Not Track",
    fpNetwork: "üì∂ Network",
    fpConnectionType: "Connection Type",
    fpEffectiveType: "Effective Type",
    fpDownlink: "Downlink (Mbps)",
    fpRTT: "RTT (ms)",
    fpFonts: "üî§ Fonts",
    fpFontsHint: "Fonts are randomized based on your OS platform",
    fpRegenerated: "Regenerated successfully",
    // Protection Settings
    fpProtection: "üõ°Ô∏è Protection",
    fpCanvas: "Canvas",
    fpCanvasHint: "Generate unique Canvas fingerprint for each profile",
    fpWebGLImage: "WebGL Image",
    fpWebGLImageHint: "Generate unique WebGL fingerprint for each profile",
    fpClientRectsHint: "Mask element bounding rectangle info",
    fpAudio: "Audio",
    fpAudioHint: "Generate unique audio fingerprint for each profile",
    fpSpeechHint: "Mask speech synthesis voice list",
    fpMediaDevices: "Media Devices",
    fpMediaHint: "Mask camera/microphone device list",
    fpPortScan: "Port Scan Protection",
    fpPortScanHint: "Block websites from scanning local service ports",
    fpWebRTCHint: "WebRTC IP leak protection mode",
    fpRandom: "Random",
    fpOn: "On",
    fpOff: "Off",
    fpReal: "Real",
    fpPrivacy: "Privacy",
    fpDisabled: "Disabled"
};

// Global i18n Manager
window.curLang = localStorage.getItem('geekez_lang') || 'cn';

window.t = function (key) {
    if (window.curLang === 'cn' && window.zhCN && window.zhCN[key]) {
        return window.zhCN[key];
    }
    return enTranslations[key] || key;
};

window.toggleLanguage = function () {
    window.curLang = window.curLang === 'cn' ? 'en' : 'cn';
    localStorage.setItem('geekez_lang', window.curLang);
    location.reload();
};
